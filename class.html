<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Select Class, Board & Chapter</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h2>Select Your Class, Board & Chapter</h2>
  
  <label for="classSelect">Choose Class:</label>
  <select id="classSelect" onchange="checkStream()">
    <option value="">--Select--</option>
    <option value="8">Class 8</option>
    <option value="9">Class 9</option>
    <option value="10">Class 10</option>
    <option value="11">Class 11</option>
    <option value="12">Class 12</option>
  </select>

  <br><br>

  <label for="boardSelect">Choose Board:</label>
  <select id="boardSelect" onchange="checkChapters()">
    <option value="">--Select--</option>
    <option value="CBSE">CBSE</option>
    <option value="ICSE">ICSE</option>
  </select>

  <br><br>

  <!-- Stream selection (only for 11 & 12) -->
  <div id="streamSection" style="display:none;">
    <label for="streamSelect">Choose Stream:</label>
    <select id="streamSelect" onchange="checkScience()">
      <option value="">--Select--</option>
      <option value="Science">Science</option>
      <option value="Commerce">Commerce</option>
      <option value="Arts">Arts/Humanities</option>
    </select>
  </div>

  <br><br>

  <!-- Science combinations -->
  <div id="scienceCombo" style="display:none;">
    <label for="scienceSelect">Choose Combination:</label>
    <select id="scienceSelect">
      <option value="">--Select--</option>
      <option value="PCM">PCM (Physics, Chemistry, Math)</option>
      <option value="PCB">PCB (Physics, Chemistry, Biology)</option>
      <option value="PCMB">PCMB (Physics, Chemistry, Math, Biology)</option>
      <option value="CompSci">PCM + Computer Science</option>
    </select>
  </div>

  <br><br>

  <!-- Chapter selection -->
  <div id="chapterSection" style="display:none;">
    <label for="chapterSelect">Choose Chapter:</label>
    <select id="chapterSelect">
      <option value="">--Select--</option>
      <!-- Chapters will populate dynamically -->
    </select>
  </div>

  <br><br>
  <button onclick="goToCourses()">Next</button>

  <script>
    const chaptersData = {
      "8": ["Chapter 1", "Chapter 2", "Chapter 3"],
      "9": ["Chapter 1", "Chapter 2", "Chapter 3", "Chapter 4"],
      "10": ["Chapter 1", "Chapter 2", "Chapter 3", "Chapter 4", "Chapter 5"],
      "11": ["Unit 1", "Unit 2", "Unit 3"],
      "12": ["Unit 1", "Unit 2", "Unit 3", "Unit 4"]
    };

    function checkStream() {
      const cls = document.getElementById("classSelect").value;
      if (cls === "11" || cls === "12") {
        document.getElementById("streamSection").style.display = "block";
      } else {
        document.getElementById("streamSection").style.display = "none";
        document.getElementById("scienceCombo").style.display = "none";
      }
      checkChapters();
    }

    function checkScience() {
      const stream = document.getElementById("streamSelect").value;
      if (stream === "Science") {
        document.getElementById("scienceCombo").style.display = "block";
      } else {
        document.getElementById("scienceCombo").style.display = "none";
      }
    }

    function checkChapters() {
      const cls = document.getElementById("classSelect").value;
      if (!cls) return;

      const chapterSection = document.getElementById("chapterSection");
      const chapterSelect = document.getElementById("chapterSelect");
      chapterSelect.innerHTML = '<option value="">--Select--</option>';

      chaptersData[cls].forEach(ch => {
        const opt = document.createElement("option");
        opt.value = ch;
        opt.innerText = ch;
        chapterSelect.appendChild(opt);
      });

      chapterSection.style.display = "block";
    }

    function goToCourses() {
      const selectedClass = document.getElementById("classSelect").value;
      const selectedBoard = document.getElementById("boardSelect").value;
      const selectedStream = document.getElementById("streamSelect").value;
      const scienceOption = document.getElementById("scienceSelect").value;
      const chapter = document.getElementById("chapterSelect").value;

      if (!selectedClass || !selectedBoard || !chapter) {
        alert("Please select Class, Board, and Chapter!");
        return;
      }

      if ((selectedClass === "11" || selectedClass === "12") && !selectedStream) {
        alert("Please select a Stream");
        return;
      }

      if (selectedStream === "Science" && !scienceOption) {
        alert("Please select Science Combination");
        return;
      }

      localStorage.setItem("selectedClass", selectedClass);
      localStorage.setItem("selectedBoard", selectedBoard);
      localStorage.setItem("selectedStream", selectedStream);
      localStorage.setItem("scienceCombo", scienceOption);
      localStorage.setItem("selectedChapter", chapter);

      // Subjects for 8-10
      let subjects = [];
      if (selectedClass === "8" || selectedClass === "9" || selectedClass === "10") {
        subjects = ["Maths", "Science", "English", "Social Science", "Hindi"];
      }
      localStorage.setItem("selectedSubjects", JSON.stringify(subjects));

      window.location.href = "courses.html";
    }
  </script>
</body>
</html>
